<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- favicon -->
  <link rel="apple-touch-icon" sizes="180x180" href="/meta/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/meta/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/meta/favicon-16x16.png">
  <link rel="manifest" href="/meta/site.webmanifest" crossorigin="anonymous">
  <link rel="mask-icon" href="/meta/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Garrett Roell is a PhD Student studying Chemical Engineering at 
      Washington University in St. Louis who loves writing code.">

  <!-- scripts -->
  <script src="/js/footer.js"></script>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

  <!-- styles -->
  <link rel="stylesheet" href="/css/global.css">
  <link rel="stylesheet" href="/css/nav.css">
  <link rel="stylesheet" href="/css/footer.css">
  <link rel="stylesheet" href="/css/blog.css">

  <!-- Title -->
  <title>Setup Digital Ocean Droplet</title>
</head>

<script>

  function writeClipboard(text) {

    navigator.clipboard.writeText(text).then(function () {
      /* clipboard successfully set */
      // console.log(text)
    }, function (error) {
      console.log('failed to write to clip board', error)
    });
  }

  document.addEventListener("DOMContentLoaded", function () {
    let codeButtons = document.getElementsByClassName('code-button')
    Array.from(codeButtons).forEach(button => {
      button.addEventListener("click", () => {
        // change text to copied for 5 seconds
        button.innerHTML = 'copied!'
        setTimeout(() => {
          button.innerHTML = 'copy'
        }, "5000")
      });
    })
  })


</script>

<body x-data="{ show: 'html' }">

  <!-- nav bar -->
  <nav>
    <div class="nav-outer">
      <ul class="nav-items">
        <li><a href="/" class="nav-item">Home</a></li>
        <li><a href="/#projects" class="nav-item">Projects</a></li>
        <li><a href="/#publications" class="nav-item">Publications</a></li>
        <li><a href="/#skills" class="nav-item">Skills</a></li>
        <li><a href="/resume" class="nav-item">Resume</a></li>
      </ul>
    </div>
  </nav>

  <!-- top spacer -->
  <div class="top-spacer"></div>


  <div class="blog-text-holder">
    <p class="blog-text-title">
      How to host 10+ sites for $5 per month
    </p>
    <p class="blog-text" style="color:mediumpurple">
      This is not an advertisement. It is an endorsement of a product that I like.
    </p>
    <p class="blog-text">
      This guide explains how I set up Nginx on a DigitalOcean droplet to host 10+ websites for $5 a month. The
      guide will go over the steps required to host the following types of websites:
    </p>
    <ul>
      <li>an html page</li>
      <li>a single page app (<a href="https://reactjs.org/" target="_blank">React</a>)</li>
      <li>a node server (<a href="https://expressjs.com/" target="_blank">Express</a>)</li>
      <li>a python server (<a href="https://fastapi.tiangolo.com/" target="_blank">FastAPI</a>)</li>
    </ul>

    <p class="blog-text">
      You will need at least one custom domain name to complete this tutorial. Subdomains can be used to host each
      project at its own url.
    </p>

    <div class="step-1">
      <p class="blog-text-title">
        Step 1. Create a <a href="https://www.digitalocean.com/" target="_blank">DigitalOcean</a> account
      </p>
    </div>

    <div class="step-2">
      <p class="blog-text-title">
        Step 2. Create a droplet
      </p>
      <p class="blog-text">
        Create your droplet using the create button on the top navigation bar. A droplet is linux virtual machine with
        its
        own IP address. Choose the $5 option which comes with 1GB Memory / 25GB Storage / 1TB Bandwidth. Select the
        following
        options:
      </p>
      <ul>
        <li>Ubuntu 20.04 (LTS) x64</li>
        <li>Basic shared CPU plan</li>
        <li>Regular with SSD CPU ($5/month)</li>
        <li>Pick a datacenter (I chose New York 1)</li>
      </ul>
      <p class="blog-text">
        Say no to the options that try to upsell you.
      </p>
      <p class="blog-text">
        Create a root password to allow you to access your server, and skip ssh setup.
      </p>
    </div>

    <div class="step-3">
      <p class="blog-text-title">
        Step 3. Set up server
      </p>
      <p class="blog-text">
        Find your server's public IP address on the DigitalOcean dashboard. Remotely access your server using a command
        line tool (On mac I recommend <a href="https://iterm2.com/" target="_blank">iTerm2</a>)
      </p>
      <div>
        <img class="blog-image" src="../images/public_ip.png" alt="screenshot showing your public ip address">

      </div>
      <div class="code-holder">
        <code>$ ssh root@<mark>your_server_ip</mark></code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('ssh root@your_server_ip')">
            copy
          </button>
        </div>
      </div>
      <p class="blog-text">
        The root user can make destructive changes. To avoid accidents, it is best practice to use a non root account.
        Create a non-root user (use your name instead of mine) with a strong password, and skip all other questions.
      </p>
      <div class="code-holder">
        <code>$ adduser <mark>garrett</mark></code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('adduser garrett')">
            copy
          </button>
        </div>
      </div>
      <p class="blog-text">
        Grant administrative privileges. This command appends (-a) the user, garrett, to the group (-G) sudo.
      </p>
      <div class="code-holder">
        <code>$ usermod -aG sudo <mark>garrett</mark></code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('usermod -aG sudo garrett')">
            copy
          </button>
        </div>
      </div>
      <p class="blog-text">
        Log out with the command 'exit', and confirm that you can access server with new user.
      </p>
      <div class="code-holder">
        <code>$ ssh <mark>garrett</mark>@<mark>your_server_ip</mark></code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('ssh garrett@your_server_ip')">
            copy
          </button>
        </div>
      </div>
    </div>

    <div class="step-4">
      <p class="blog-text-title">
        Step 4. Install Nginx
      </p>
      <p class="blog-text">
        <a href="https://www.nginx.com/" target="_blank">Nginx</a> is a high performance web server and a reverse proxy
        server.
      </p>
      <p class="blog-text">
        Update server
      </p>
      <div class="code-holder">
        <code>$ sudo apt-get update</code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('sudo apt-get update')">
            copy
          </button>
        </div>
      </div>
      <p class="blog-text">
        Install nginx
      </p>
      <div class="code-holder">
        <code>$ sudo apt-get install nginx</code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('sudo apt-get install nginx')">
            copy
          </button>
        </div>
      </div>
      <p class="blog-text">
        Confirm that the server is running default Nginx page
      </p>
      <div class="code-holder">
        <code>http://<mark>server_domain_or_IP</mark></code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('http://server_domain_or_IP')">
            copy
          </button>
        </div>
      </div>
      <img class="blog-image" src="../images/nginx_default_page.png" alt="Nginx default page" />
      <p class="blog-text">
        If site is not loading, check that http traffic can pass through your server's firewall, and reload the page
      </p>
      <div class="code-holder">
        <code>$ sudo ufw allow http</code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('sudo ufw allow http\nsudo service nginx restart')">
            copy
          </button>
        </div>
      </div>
    </div>

    <div class="step-5">
      <p class="blog-text-title">
        Step 5. Download git repo with shell projects
      </p>
      <p class="blog-text">
        This repo contains example projects for html, react, node, and python projects.
      </p>
      <p class="blog-text">
        Make sure that you are in your home directory so the apps folder has the location
        /home/<mark class="light">garrett</mark>/apps/.
      </p>
      <div class="code-holder">
        <div class="code-stack">
          <code>$ cd ~</code>
          <code>$ git clone https://github.com/garrettroell/droplet_set_up.git apps</code>
        </div>
        <div class="code-button-holder">
          <button class="code-button"
            onclick="writeClipboard('cd ~ \ngit clone https://github.com/garrettroell/droplet_set_up.git apps')">
            copy
          </button>
        </div>
      </div>

    </div>

    <div class="step-6">
      <p class="blog-text-title">
        Step 6. Choose the type of site you'd like to host
      </p>
      <div class="configuration-buttons">
        <button @click="show = 'html'" :class="show === 'html' ? 'selected-button' : '' ">HTML</button>
        <button @click="show = 'react'" :class="show === 'react' ? 'selected-button' : '' ">React</button>
        <button @click="show = 'node'" :class="show === 'node' ? 'selected-button' : '' ">Node</button>
        <button @click="show = 'python'" :class="show === 'python' ? 'selected-button' : '' ">Python</button>
      </div>
    </div>

    <div class="step-7">
      <p class="blog-text-title">
        Step 7. Connect a domain name to your server
      </p>
      <p class="blog-text">
        You will need a domain name to continue here. You can get one at <a href="https://namecheap.com">Namecheap</a>
        for about $10/year. In these examples I use roell.dev as my top level domain, and use it to host various
        subdomains. I'll use subdomains attached to roell.dev in this tutorial
      </p>
      <p class="blog-text">
        Add an A record to connect your domain name to your server. Put '@' as the host if you want to use
        the top level domain, or put a string as the host to use a subdomain. The image below is the Namecheap
        interface, but
        other domain providers should have similar DNS configuration interfaces.
      </p>
      <img class="blog-image" src="../images/a_record.png" alt="namecheap interface for A record">
      <p class="blog-text">
        Confirm that the url is connected to your server.
      </p>
      <!-- html -->
      <div class="code-holder" x-show="show === 'html'">
        <code>$ dig <mark>html.roell.dev</mark></code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('dig html.roell.dev')">
            copy
          </button>
        </div>
      </div>
      <!-- react -->
      <div class="code-holder" x-show="show === 'react'">
        <code>$ dig <mark>react.roell.dev</mark></code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('dig react.roell.dev')">
            copy
          </button>
        </div>
      </div>
      <!-- node -->
      <div class="code-holder" x-show="show === 'node'">
        <code>$ dig <mark>node.roell.dev</mark></code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('dig node.roell.dev')">
            copy
          </button>
        </div>
      </div>
      <!-- python -->
      <div class="code-holder" x-show="show === 'python'">
        <code>$ dig <mark>python.roell.dev</mark></code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('dig python.roell.dev')">
            copy
          </button>
        </div>
      </div>
      <img x-show="show === 'html'" class="blog-image" src="../images/dig_results_html.png" alt="result of dig command">
      <img x-show="show === 'react'" class="blog-image" src="../images/dig_results_react.png"
        alt="result of dig command">
      <img x-show="show === 'node'" class="blog-image" src="../images/dig_results_node.png" alt="result of dig command">
      <img x-show="show === 'python'" class="blog-image" src="../images/dig_results_python.png"
        alt="result of dig command">
      <p class="blog-text">
        If the domain is connected, you should see your server's ip address. It may take a few minutes for the DNS
        changes to propagate.
      </p>
    </div>

    <div class="step-8">
      <div class="html-configuration" x-show="show === 'html'">
        <p class="blog-text-title">
          Step 8. Configure Nginx to host an HTML page
        </p>
        <p class="blog-text">
          Inspect ~/apps/html folder
        </p>
        <div class="code-holder">
          <div class="code-stack">
            <code>$ cd ~/apps/html</code>
            <code>$ ls</code>
          </div>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('cd ~/apps/html \nls')">
              copy
            </button>
          </div>
        </div>
        <p class="blog-text">
          Edit index.html to say your name. Exit the editor by pressing "command + x" and then "y" and then "enter."
        </p>
        <div class="code-holder">
          <div class="code-stack">
            <code>$ nano index.html</code>
          </div>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('nano index.html')">
              copy
            </button>
          </div>
        </div>
        <p class="blog-text">
          Contents of the default index.html page
        </p>
        <!-- code snippet -->
        <div class="code-snippet">
          <div class="code-snippet-head">
            home/garrett/apps/html/index.html
          </div>
          <div class="code-snippet-body">
            <div class="code-stack">
              <code>&lt;html&gt; &nbsp;</code>
              <code>&nbsp;</code>
              <code>&lt;head&gt; &nbsp;</code>
              <code>&nbsp; &lt;title&gt;Welcome to <mark>Garrett</mark>&apos;s html site&lt;/title&gt; &nbsp;</code>
              <code>&lt;/head&gt; &nbsp;</code>
              <code>&nbsp;</code>
              <code>&lt;body&gt;</code>
              <code>&nbsp; &lt;h1&gt;Welcome to <mark>Garrett</mark>&apos;s html site!&lt;/h1&gt;</code>
              <code>&lt;/body&gt;</code>
              <code>&nbsp;</code>
              <code>&lt;/html&gt;</code>
            </div>
            <div class="code-button-holder">
              <button class="code-button"
                onclick="writeClipboard(`<html>\n\n<head>\n\t<title>Welcome to Garrett&apos;s html site</title>\n</head>\n\n<body>\n\t<h1>Welcome to Garrett&apos;s html site!</h1>\n</body>\n\n</html>`)">
                copy
              </button>
            </div>
          </div>
        </div>
        <p class="blog-text">
          Add an Nginx configuration file for the html site named <mark class="light">html.roell.dev</mark>. Exit the
          editor by
          pressing "command + x" and then "y" and
          then "enter."
        </p>
        <div class="code-holder">
          <code>$ sudo nano /etc/nginx/sites-available/<mark>html.roell.dev</mark></code>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('sudo nano /etc/nginx/sites-available/html.roell.dev')">
              copy
            </button>
          </div>
        </div>

        <!-- code snippet -->
        <div class="code-snippet">
          <div class="code-snippet-head">
            /etc/nginx/sites-available/html.roell.dev
          </div>
          <div class="code-snippet-body">
            <div class="code-stack">
              <code>server {</code>
              <code>&nbsp; listen 80;</code>
              <code>&nbsp; server_name <mark>html.roell.dev</mark>;</code>
              <code>&nbsp;</code>
              <code>&nbsp; root /home/<mark>garrett</mark>/apps/html/;</code>
              <code>&nbsp; index index.html;</code>
              <code>&nbsp;</code>
              <code>&nbsp; location / {</code>
              <code>&nbsp; &nbsp; try_files $uri $uri/ =404;</code>
              <code>&nbsp; }</code>
              <code>}</code>
            </div>
            <div class="code-button-holder">
              <button class="code-button"
                onclick="writeClipboard(`server {\n\tlisten 80;\n\tserver_name html.roell.dev;\n\n\troot /home/garrett/apps/html/;\n\tindex index.html;\n\n\tlocation / {\n\t\ttry_files $uri $uri/ =404;\n\t}\n}`)">
                copy
              </button>
            </div>
          </div>
        </div>

        <p class="blog-text">
          Enable the config file by making a symbolic link.
        </p>
        <div class="code-holder">
          <code>$ sudo ln -s /etc/nginx/sites-available/<mark>html.roell.dev</mark> /etc/nginx/sites-enabled/</code>
          <div class="code-button-holder">
            <button class="code-button"
              onclick="writeClipboard('sudo ln -s /etc/nginx/sites-available/html.roell.dev /etc/nginx/sites-enabled/')">
              copy
            </button>
          </div>
        </div>

        <p class="blog-text">
          Check the Nginx configuration for syntax errors
        </p>
        <div class="code-holder">
          <code>$ sudo nginx -t</code>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('sudo nginx -t')">
              copy
            </button>
          </div>
        </div>
        <p class="blog-text">
          Restart Nginx
        </p>
        <div class="code-holder">
          <code>$ sudo systemctl restart nginx</code>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('sudo systemctl restart nginx')">
              copy
            </button>
          </div>
        </div>
      </div>

      <div class="react-configuration" x-show="show === 'react'">
        <p class="blog-text-title">
          Step 8. Configure Nginx to host a React App
        </p>
        <p class="blog-text">
          Clone a repo with the react project
        </p>

        <p class="blog-text">
          Create an example project
        </p>
        <div class="code-holder">
          <div class="code-stack">
            <code>$ cd apps</code>
            <code>$ mkdir html_site</code>
          </div>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('cd apps \nmkdir html_site')">
              copy
            </button>
          </div>
        </div>
        <p class="blog-text">
          Create a basic html file
        </p>
        <div class="code-holder">
          <div class="code-stack">
            <code>$ cd html_site</code>
            <code>$ nano index.html</code>
          </div>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('cd apps \nmkdir html_site')">
              copy
            </button>
          </div>
        </div>

        <!-- code snippet -->
        <div class="code-snippet">
          <div class="code-snippet-head">
            home/garrett/apps/html_site/index.html
          </div>
          <div class="code-snippet-body">
            <div class="code-stack">
              <code>&lt;html&gt; &nbsp;</code>
              <code>&lt;head&gt; &nbsp;</code>
              <code>&nbsp; &lt;title&gt;Welcome to Garrett’s html site&lt;/title&gt; &nbsp;</code>
              <code>&lt;/head&gt; &nbsp;</code>
              <code>&lt;body&gt;</code>
              <code>&nbsp; &lt;h1&gt;Welcome to Garrett’s html site!&lt;/h1&gt;</code>
              <code>&lt;/body&gt;</code>
              <code>&lt;/html&gt;</code>
            </div>
            <div class="code-button-holder">
              <button class="code-button"
                onclick="writeClipboard(`<html>\n<head>\n\t<title>Welcome to Garrett’s html site</title>\n</head>\n<body>\n\t<h1>Welcome to Garrett’s html site!</h1>\n</body>\n</html>`)">
                copy
              </button>
            </div>
          </div>
        </div>

        <p class="blog-text">
          Add a configuration file for the html site (replace user and )
        </p>
        <div class="code-holder">
          <code>$ sudo nano /etc/nginx/sites-available/html_site</code>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('sudo nano /etc/nginx/sites-available/html_site')">
              copy
            </button>
          </div>
        </div>

        <!-- code snippet -->
        <div class="code-snippet">
          <div class="code-snippet-head">
            /etc/nginx/sites-available/html_site
          </div>
          <div class="code-snippet-body">
            <div class="code-stack">
              <code>server {</code>
              <code>&nbsp; listen 80;</code>
              <code>&nbsp; listen [::]:80;</code>
              <code>&nbsp;</code>
              <code>&nbsp; root /home/garrett/apps/html_site/index.html;</code>
              <code>&nbsp; index index.html index.htm index.nginx-debian.html;</code>
              <code>&nbsp;</code>
              <code>&nbsp; server_name html.roell.dev;</code>
              <code>&nbsp;</code>
              <code>&nbsp; location / {</code>
              <code>&nbsp;&nbsp; try_files $uri $uri/ =404; {</code>
              <code>&nbsp; location / {</code>
              <code>&nbsp; }</code>
              <code>}</code>
            </div>
            <div class="code-button-holder">
              <button class="code-button"
                onclick="writeClipboard(`server {\n\tlisten 80;\n\tlisten [::]:80;\n\n\troot /home/garrett/apps/html_site/index.html;\n\tindex index.html index.htm index.nginx-debian.html;\n\n\tserver_name html.roell.dev;\n\n\tlocation / {\n\t\ttry_files $uri $uri/ =404; {\n\tlocation / {\n}\n}`)">
                copy
              </button>
            </div>
          </div>
        </div>

        <p class="blog-text">
          Enable the config file by making a symbolic link.
        </p>
        <div class="code-holder">
          <code>$ sudo ln -s /etc/nginx/sites-available/react.roell.dev /etc/nginx/sites-enabled/</code>
          <div class="code-button-holder">
            <button class="code-button"
              onclick="writeClipboard('sudo ln -s /etc/nginx/sites-available/react.roell.dev /etc/nginx/sites-enabled/')">
              copy
            </button>
          </div>
        </div>

        <p class="blog-text">
          Check Nginx files for syntax errors
        </p>
        <div class="code-holder">
          <code>$ sudo nginx -t</code>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('sudo nginx -t')">
              copy
            </button>
          </div>
        </div>
        <p class="blog-text">
          Restart Nginx
        </p>
        <div class="code-holder">
          <code>$ sudo systemctl restart nginx</code>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('sudo systemctl restart nginx')">
              copy
            </button>
          </div>
        </div>
      </div>

      <div class="node-configuration" x-show="show === 'node'">
        <p class="blog-text-title">
          Step 8. Configure Nginx to host a Node Server
        </p>
        <p class="blog-text">
          Create apps folder
        </p>
        <div class="code-holder">
          <div class="code-stack">
            <code>$ cd ~</code>
            <code>$ mkdir apps</code>
          </div>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('cd ~ \nmkdir apps')">
              copy
            </button>
          </div>
        </div>
        <p class="blog-text">
          Create an example project
        </p>
        <div class="code-holder">
          <div class="code-stack">
            <code>$ cd apps</code>
            <code>$ mkdir html_site</code>
          </div>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('cd apps \nmkdir html_site')">
              copy
            </button>
          </div>
        </div>
        <p class="blog-text">
          Create a basic html file
        </p>
        <div class="code-holder">
          <div class="code-stack">
            <code>$ cd html_site</code>
            <code>$ nano index.html</code>
          </div>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('cd apps \nmkdir html_site')">
              copy
            </button>
          </div>
        </div>

        <!-- code snippet -->
        <div class="code-snippet">
          <div class="code-snippet-head">
            home/garrett/apps/html_site/index.html
          </div>
          <div class="code-snippet-body">
            <div class="code-stack">
              <code>&lt;html&gt; &nbsp;</code>
              <code>&lt;head&gt; &nbsp;</code>
              <code>&nbsp; &lt;title&gt;Welcome to Garrett’s html site&lt;/title&gt; &nbsp;</code>
              <code>&lt;/head&gt; &nbsp;</code>
              <code>&lt;body&gt;</code>
              <code>&nbsp; &lt;h1&gt;Welcome to Garrett’s html site!&lt;/h1&gt;</code>
              <code>&lt;/body&gt;</code>
              <code>&lt;/html&gt;</code>
            </div>
            <div class="code-button-holder">
              <button class="code-button"
                onclick="writeClipboard(`<html>\n<head>\n\t<title>Welcome to Garrett’s html site</title>\n</head>\n<body>\n\t<h1>Welcome to Garrett’s html site!</h1>\n</body>\n</html>`)">
                copy
              </button>
            </div>
          </div>
        </div>

        <p class="blog-text">
          Add a configuration file for the html site (replace user and )
        </p>
        <div class="code-holder">
          <code>$ sudo nano /etc/nginx/sites-available/html_site</code>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('sudo nano /etc/nginx/sites-available/html_site')">
              copy
            </button>
          </div>
        </div>

        <!-- code snippet -->
        <div class="code-snippet">
          <div class="code-snippet-head">
            /etc/nginx/sites-available/html_site
          </div>
          <div class="code-snippet-body">
            <div class="code-stack">
              <code>server {</code>
              <code>&nbsp; listen 80;</code>
              <code>&nbsp; listen [::]:80;</code>
              <code>&nbsp;</code>
              <code>&nbsp; root /home/garrett/apps/html_site/index.html;</code>
              <code>&nbsp; index index.html index.htm index.nginx-debian.html;</code>
              <code>&nbsp;</code>
              <code>&nbsp; server_name html.roell.dev;</code>
              <code>&nbsp;</code>
              <code>&nbsp; location / {</code>
              <code>&nbsp;&nbsp; try_files $uri $uri/ =404; {</code>
              <code>&nbsp; location / {</code>
              <code>&nbsp; }</code>
              <code>}</code>
            </div>
            <div class="code-button-holder">
              <button class="code-button"
                onclick="writeClipboard(`server {\n\tlisten 80;\n\tlisten [::]:80;\n\n\troot /home/garrett/apps/html_site/index.html;\n\tindex index.html index.htm index.nginx-debian.html;\n\n\tserver_name html.roell.dev;\n\n\tlocation / {\n\t\ttry_files $uri $uri/ =404; {\n\tlocation / {\n}\n}`)">
                copy
              </button>
            </div>
          </div>
        </div>

        <p class="blog-text">
          Enable the config file by making a symbolic link.
        </p>
        <div class="code-holder">
          <code>$ sudo ln -s /etc/nginx/sites-available/node.roell.dev /etc/nginx/sites-enabled/</code>
          <div class="code-button-holder">
            <button class="code-button"
              onclick="writeClipboard('sudo ln -s /etc/nginx/sites-available/node.roell.dev /etc/nginx/sites-enabled/')">
              copy
            </button>
          </div>
        </div>

        <p class="blog-text">
          Check Nginx files for syntax errors
        </p>
        <div class="code-holder">
          <code>$ sudo nginx -t</code>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('sudo nginx -t')">
              copy
            </button>
          </div>
        </div>
        <p class="blog-text">
          Restart Nginx
        </p>
        <div class="code-holder">
          <code>$ sudo systemctl restart nginx</code>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('sudo systemctl restart nginx')">
              copy
            </button>
          </div>
        </div>
      </div>

      <div class="python-configuration" x-show="show === 'python'">
        <p class="blog-text-title">
          Step 8. Configure Nginx to host a Python Server
        </p>
        <p class="blog-text">
          Create apps folder
        </p>
        <div class="code-holder">
          <div class="code-stack">
            <code>$ cd ~</code>
            <code>$ mkdir apps</code>
          </div>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('cd ~ \nmkdir apps')">
              copy
            </button>
          </div>
        </div>
        <p class="blog-text">
          Create an example project
        </p>
        <div class="code-holder">
          <div class="code-stack">
            <code>$ cd apps</code>
            <code>$ mkdir html_site</code>
          </div>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('cd apps \nmkdir html_site')">
              copy
            </button>
          </div>
        </div>
        <p class="blog-text">
          Create a basic html file
        </p>
        <div class="code-holder">
          <div class="code-stack">
            <code>$ cd html_site</code>
            <code>$ nano index.html</code>
          </div>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('cd apps \nmkdir html_site')">
              copy
            </button>
          </div>
        </div>

        <!-- code snippet -->
        <div class="code-snippet">
          <div class="code-snippet-head">
            home/garrett/apps/html_site/index.html
          </div>
          <div class="code-snippet-body">
            <div class="code-stack">
              <code>&lt;html&gt; &nbsp;</code>
              <code>&lt;head&gt; &nbsp;</code>
              <code>&nbsp; &lt;title&gt;Welcome to Garrett’s html site&lt;/title&gt; &nbsp;</code>
              <code>&lt;/head&gt; &nbsp;</code>
              <code>&lt;body&gt;</code>
              <code>&nbsp; &lt;h1&gt;Welcome to Garrett’s html site!&lt;/h1&gt;</code>
              <code>&lt;/body&gt;</code>
              <code>&lt;/html&gt;</code>
            </div>
            <div class="code-button-holder">
              <button class="code-button"
                onclick="writeClipboard(`<html>\n<head>\n\t<title>Welcome to Garrett’s html site</title>\n</head>\n<body>\n\t<h1>Welcome to Garrett’s html site!</h1>\n</body>\n</html>`)">
                copy
              </button>
            </div>
          </div>
        </div>

        <p class="blog-text">
          Add a configuration file for the html site (replace user and )
        </p>
        <div class="code-holder">
          <code>$ sudo nano /etc/nginx/sites-available/html_site</code>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('sudo nano /etc/nginx/sites-available/html_site')">
              copy
            </button>
          </div>
        </div>

        <!-- code snippet -->
        <div class="code-snippet">
          <div class="code-snippet-head">
            /etc/nginx/sites-available/html_site
          </div>
          <div class="code-snippet-body">
            <div class="code-stack">
              <code>server {</code>
              <code>&nbsp; listen 80;</code>
              <code>&nbsp; listen [::]:80;</code>
              <code>&nbsp;</code>
              <code>&nbsp; root /home/garrett/apps/html_site/index.html;</code>
              <code>&nbsp; index index.html index.htm index.nginx-debian.html;</code>
              <code>&nbsp;</code>
              <code>&nbsp; server_name html.roell.dev;</code>
              <code>&nbsp;</code>
              <code>&nbsp; location / {</code>
              <code>&nbsp;&nbsp; try_files $uri $uri/ =404; {</code>
              <code>&nbsp; location / {</code>
              <code>&nbsp; }</code>
              <code>}</code>
            </div>
            <div class="code-button-holder">
              <button class="code-button"
                onclick="writeClipboard(`server {\n\tlisten 80;\n\tlisten [::]:80;\n\n\troot /home/garrett/apps/html_site/index.html;\n\tindex index.html index.htm index.nginx-debian.html;\n\n\tserver_name html.roell.dev;\n\n\tlocation / {\n\t\ttry_files $uri $uri/ =404; {\n\tlocation / {\n}\n}`)">
                copy
              </button>
            </div>
          </div>
        </div>

        <p class="blog-text">
          Enable the config file by making a symbolic link.
        </p>
        <div class="code-holder">
          <code>$ sudo ln -s /etc/nginx/sites-available/python.roell.dev /etc/nginx/sites-enabled/</code>
          <div class="code-button-holder">
            <button class="code-button"
              onclick="writeClipboard('sudo ln -s /etc/nginx/sites-available/python.roell.dev /etc/nginx/sites-enabled/')">
              copy
            </button>
          </div>
        </div>

        <p class="blog-text">
          Check Nginx files for syntax errors
        </p>
        <div class="code-holder">
          <code>$ sudo nginx -t</code>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('sudo nginx -t')">
              copy
            </button>
          </div>
        </div>
        <p class="blog-text">
          Restart Nginx
        </p>
        <div class="code-holder">
          <code>$ sudo systemctl restart nginx</code>
          <div class="code-button-holder">
            <button class="code-button" onclick="writeClipboard('sudo systemctl restart nginx')">
              copy
            </button>
          </div>
        </div>
      </div>

    </div>

    <div class="step-9">
      <p class="blog-text-title">
        Step 9. Add SSL with LetsEncrypt
      </p>
      <p class="blog-text">
        Download certbot. This step only needs to happen once in the server's lifetime.
      </p>
      <div class="code-holder">
        <div class="code-stack">
          <code>$ sudo apt install certbot python3-certbot-nginx</code>
        </div>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('sudo apt install certbot python3-certbot-nginx')">
            copy
          </button>
        </div>
      </div>
      <p class="blog-text">
        Add SSL for your domain
      </p>
      <!-- html -->
      <div class="code-holder" x-show="show === 'html'">
        <code>sudo certbot --nginx -d <mark>html.roell.dev</mark></code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('sudo certbot --nginx -d html.roell.dev')">
            copy
          </button>
        </div>
      </div>
      <!-- react -->
      <div class="code-holder" x-show="show === 'react'">
        <code>sudo certbot --nginx -d <mark>react.roell.dev</mark></code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('sudo certbot --nginx -d react.roell.dev')">
            copy
          </button>
        </div>
      </div>
      <!-- node -->
      <div class="code-holder" x-show="show === 'node'">
        <code>sudo certbot --nginx -d <mark>node.roell.dev</mark></code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('sudo certbot --nginx -d node.roell.dev')">
            copy
          </button>
        </div>
      </div>
      <!-- python -->
      <div class="code-holder" x-show="show === 'python'">
        <code>sudo certbot --nginx -d <mark>python.roell.dev</mark></code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('sudo certbot --nginx -d python.roell.dev')">
            copy
          </button>
        </div>
      </div>
      <p class="blog-text">
        Confirm that the site is working
      </p>
      <!-- html -->
      <div class="code-holder" x-show="show === 'html'">
        <code>https://<mark>html.roell.dev</mark></code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('https://html.roell.dev')">
            copy
          </button>
        </div>
      </div>
      <!-- react -->
      <div class="code-holder" x-show="show === 'react'">
        <code>https://<mark>react.roell.dev</mark></code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('https://react.roell.dev')">
            copy
          </button>
        </div>
      </div>
      <!-- node -->
      <div class="code-holder" x-show="show === 'node'">
        <code>https://<mark>node.roell.dev</mark></code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('https://node.roell.dev')">
            copy
          </button>
        </div>
      </div>
      <!-- node -->
      <div class="code-holder" x-show="show === 'python'">
        <code>https://<mark>python.roell.dev</mark></code>
        <div class="code-button-holder">
          <button class="code-button" onclick="writeClipboard('https://python.roell.dev')">
            copy
          </button>
        </div>
      </div>
    </div>

    <div class="citations">
      <p class="blog-text-title">
        Citations
      </p>
      <p class="blog-text">
        1. <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-20-04"
          target="_blank">
          Initial Server Setup
          with Ubuntu
          20.04</a>
      </p>
      <p class="blog-text">
        2. <a
          href="https://www.digitalocean.com/community/tutorials/how-to-set-up-nginx-server-blocks-virtual-hosts-on-ubuntu-16-04"
          target="_blank">
          How To Set Up Nginx
          Server Blocks
          (Virtual Hosts) on
          Ubuntu 16.04</a>
      </p>
      <p class="blog-text">
        3. <a href="https://gist.github.com/bradtraversy/cd90d1ed3c462fe3bddd11bf8953a896" target="_blank">
          Node.js
          Deployment</a>
      </p>

      <!-- https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-20-04 -->
    </div>

  </div>

  <!-- footer -->
  <div class="footer">
    <div class="footer-container">
      <p class="footer-name" id="footer-name">
      </p>
      <a href="https://github.com/garrettroell/personal_site" target="_blank">
        <button class="github-button">
          <!-- github svg -->
          <svg stroke="rgba(0, 0, 0, 0.70)" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round"
            stroke-linejoin="round" height="1.25em" width="1.25em" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
            </path>
          </svg>
        </button>
      </a>
    </div>
  </div>

</body>


</html>